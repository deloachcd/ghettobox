- name: Ensure our user owns the filebrowser root
  file:
    path: "{{ filebrowser_root_path }}"
    owner: "{{ gb_user }}"
    recurse: yes
  become: yes

- name: Ensure we have a directory for filebrowser data on the host
  file:
    path: ghettobox/data/filebrowser
    state: directory

- name: Ensure filebrowser database file exists on the host
  file:
    path: ghettobox/data/filebrowser/database.db
    state: touch

- name: Copy over filebrowser config
  copy:
    src: filebrowser.json
    dest: ghettobox/data/filebrowser/filebrowser.json
